<aside class="admonition note">
  <p>This page explains, step‑by‑step, how to create a create a custom icon
    pack. For a general description of how to use already existing icon packs,
    see&nbsp;<a class="reference-link" href="#root/_help_gOKqSJgXLcIj">Icon Packs</a>.</p>
</aside>
<p>First read the quick flow to get the overall steps. After that there is
  a concrete example (Phosphor) with a small Node.js script you can run to
  generate the manifest.</p>
<h2>Quick flow (what you need to do)</h2>
<ol>
  <li>Verify the icon set is a font (one of: .woff2, .woff, .ttf).</li>
  <li>Obtain a list that maps icon names to Unicode code points (often provided
    as a JSON like <code spellcheck="false">selection.json</code> or a CSS file).</li>
  <li
 >Create a manifest JSON that maps icon ids to glyphs and search terms.</li>
    <li
   >Create a Trilium note of type Code, set language to JSON, paste the manifest
      as the note content.</li>
      <li>Upload the font file as an attachment to the same note (MIME type must
        be <code spellcheck="false">font/woff2</code>, <code spellcheck="false">font/woff</code>,
        or <code spellcheck="false">font/ttf</code> and role <code spellcheck="false">file</code>).</li>
      <li
     >Add the label <code spellcheck="false">#iconPack=&lt;prefix&gt;</code> to
        the note (prefix: alphanumeric, hyphen, underscore only).</li>
        <li>Refresh the client and verify the icon pack appears in the icon selector.</li>
</ol>
<h2>Verify the icon set</h2>
<p>The first step is to analyze if the icon set being packed can be integrated
  into Trilium.</p>
<p>Trilium only supports <strong>font-based icon sets</strong>, with the following
  formats:</p>
<figure class="table">
  <table>
    <thead>
      <tr>
        <th>Extension</th>
        <th>MIME type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code spellcheck="false">.woff2</code>
        </td>
        <td><code spellcheck="false">font/woff2</code>
        </td>
        <td>Recommended due to great compression (low size).</td>
      </tr>
      <tr>
        <td><code spellcheck="false">.woff</code>
        </td>
        <td><code spellcheck="false">font/woff</code>
        </td>
        <td>Higher compatibility, but the font file is bigger.</td>
      </tr>
      <tr>
        <td><code spellcheck="false">.ttf</code>
        </td>
        <td><code spellcheck="false">font/ttf</code>
        </td>
        <td>Most common, but highest font size.</td>
      </tr>
    </tbody>
  </table>
</figure>
<p>Trilium <strong>does not</strong> support the following formats:</p>
<ul>
  <li>SVG-based fonts.</li>
  <li>Individual SVGs.</li>
  <li><code spellcheck="false">.eot</code> fonts (legacy and proprietary).</li>
  <li
 >Duotone icons, since it requires a special CSS format that Trilium doesn't
    support.</li>
    <li>Any other font format not specified in the <em>Supported formats</em> section.</li>
</ul>
<p>In this case, the font must be manually converted to one of the supported
  formats (ideally <code spellcheck="false">.woff2</code>).</p>
<h2>Manifest format</h2>
<p>The manifest is a JSON object with an <code spellcheck="false">icons</code> map.
  Each entry key is the CSS/class id you will use (Trilium uses the CSS class
  when rendering). Value object:</p>
<ul>
  <li>glyph: the single character (the glyph) — can be the escaped Unicode (e.g.
    "\ue9c2") or the literal character.</li>
  <li>terms: array of search aliases; the first term is used as display name
    in the selector.</li>
</ul>
<p>Example minimal manifest:</p><pre><code class="language-text-x-trilium-auto">{
  "icons": {
    "ph-acorn": {
      "glyph": "\uea3f",
      "terms": ["acorn", "nut"]
    },
    "ph-book": {
      "glyph": "\uea40",
      "terms": ["book", "read"]
    }
  }
}</code></pre>
<aside class="admonition note">
  <ul>
    <li>You can supply glyph as the escaped <code spellcheck="false">\uXXXX</code> sequence
      or as the actual UTF‑8 character.</li>
    <li>It is also possible to use the unescaped glyph inside the JSON. It will
      appear strange (e.g. ), but it will be rendered properly regardless.</li>
    <li
   >The manifest keys (e.g. <code spellcheck="false">ph-acorn</code>) should
      match the class names used by the font (prefix + name is a common pattern).</li>
  </ul>
</aside>
<h2>Concrete example: Phosphor Icons</h2>
<p><a href="https://phosphoricons.com/">Phosphor Icons</a> provide a
  <code
  spellcheck="false">selection.json</code>that includes <code spellcheck="false">properties.code</code> (the
    codepoint) and <code spellcheck="false">properties.name</code> (the icon
    name). The goal: convert that into Trilium's manifest.</p>
<p>Sample <code spellcheck="false">selection.json</code> excerpt:</p><pre><code class="language-text-x-trilium-auto">{
  "icons": [
    {
      "icon": {
        "paths": [ /* [...] */ ],
        "grid": 0,
        "attrs": [{}],
        "isMulticolor": false,
        "isMulticolor2": false,
        "tags": ["acorn"]
      },
      "attrs": [{}],
      "properties": {
        "id": 0,
        "order": 1513,
        "name": "acorn",
        "code": 60314,
        "ligatures": "acorn",
        "prevSize": 16
      },
      "setIdx": 0,
      "setId": 0,
      "iconIdx": 0
    },
    /* [...] */
  ]
}</code></pre>
<p>A tiny Node.js script to produce the manifest (place <code spellcheck="false">selection.json</code> in
  the same directory and run with Node 20+):</p><pre><code class="language-application-javascript-env-backend">import { join } from "node:path";
import { readFileSync, writeFileSync } from "node:fs";

function processIconPack(packName) {
    const path = join(packName);
    const selectionMeta = JSON.parse(readFileSync(join(path, "selection.json"), "utf-8"));
    const icons = {};

    for (const icon of selectionMeta.icons) {
        let name = icon.properties.name;
        if (name.endsWith(`-${packName}`)) {
            name = name.split("-").slice(0, -1).join("-");
        }

        const id = `ph-${name}`;
        icons[id] = {
            glyph: `${String.fromCharCode(icon.properties.code)}`,
            terms: [ name ]
        };
    }

    writeFileSync("manifest.json", JSON.stringify(icons, null, 2), "utf8");
    console.log("manifest.json created");
}

processIconPack("light");</code></pre>
<p>What to do with the script:</p>
<ul>
  <li>Put <code spellcheck="false">selection.json</code> and <code spellcheck="false">build-manifest.js</code> in
    a folder.</li>
  <li>Run: node build-manifest.js</li>
  <li>The script writes <code spellcheck="false">manifest.json</code> — open it,
    verify contents, then copy into a Trilium Code note (language: JSON).</li>
</ul>
<aside class="admonition tip">
  <p><strong>Mind the escape format when processing CSS</strong>
  </p>
  <p>The Unicode escape syntax is different in CSS (<code spellcheck="false">"\ea3f"</code>)
    when compared to JSON (<code spellcheck="false">"\uea3f"</code>). Notice
    how the JSON escape is <code spellcheck="false">\u</code> and not <code spellcheck="false">\</code>.</p>
  <p>As a more compact alternative, provide the un-escaped character directly,
    as UTF-8 is supported.</p>
</aside>
<h3>Assigning the prefix</h3>
<p>Before an icon pack can be used, it needs to have a prefix defined. This
  prefix uniquely identifies the icon pack so that it can be used throughout
  the application.</p>
<p>To do so, Trilium makes use of the same format that was used for the internal
  icon pack (Boxicons). For example, when an icon from Boxicons is set, it
  looks like this: <code spellcheck="false">#iconClass="bx bxs-sushi"</code>.
  In this case, the icon pack prefix is <code spellcheck="false">bx</code> and
  the icon class name is <code spellcheck="false">bxs-sushi</code>.</p>
<p>In order for an icon pack to be recognized, the prefix must be specified
  in the <code spellcheck="false">#iconPack</code> label.&nbsp;</p>
<p>For our example with Phosphor Icons, we can use the <code spellcheck="false">ph</code> prefix
  since it also matches the prefix set in the original CSS. So in this case
  it would be <code spellcheck="false">#iconPack=ph</code>.</p>
<aside class="admonition important">
  <p>The prefix must consist of only alphanumeric characters, hyphens and underscore.
    If the prefix doesn't match these constraints, the icon pack will be ignored
    and an error will be logged in&nbsp;<a class="reference-link" href="#root/_help_bnyigUA2UK7s">Backend (server) logs</a>.</p>
</aside>
<h2>Creating the Trilium icon pack note</h2>
<ol>
  <li>Create a note of type <em>Code</em>.</li>
  <li>Set the language to <em>JSON</em>.</li>
  <li>Rename the note. The name of the note will also be the name of the icon
    pack as displayed in the list of icons.</li>
  <li>Copy and paste the manifest generated in the previous step as the content
    of this note.</li>
  <li>Go to the <a href="#root/_help_0vhv7lsOLy82">note attachment</a> and upload the
    font file (in <code spellcheck="false">.woff2</code>, <code spellcheck="false">.woff</code>,
    <code
    spellcheck="false">.ttf</code>) format.
      <ol>
        <li>Trilium identifies the font to use from attachments via the MIME type,
          make sure the MIME type is displayed correctly after uploading the attachment
          (for example <code spellcheck="false">font/woff2</code>).</li>
        <li>Make sure the <code spellcheck="false">role</code> appears as <code spellcheck="false">file</code>,
          otherwise the font will not be identified.</li>
        <li>Multiple attachments are supported, but only one font will actually be
          used in Trilium's order of preference: <code spellcheck="false">.woff2</code>,
          <code
          spellcheck="false">.woff</code>, <code spellcheck="false">.ttf</code>. As such, there's not
            much reason to upload more than one font per icon pack.</li>
      </ol>
  </li>
  <li>Add label: <code spellcheck="false">#iconPack=&lt;prefix&gt;</code> (for
    Phosphor example: <code spellcheck="false">#iconPack=ph</code>).</li>
</ol>
<h3>Final steps</h3>
<ul>
  <li><a href="#root/_help_s8alTXmpFR61">Refresh the client</a>
    <ul>
      <li>Change the icon of the note and look for the <em>Filter</em> icon in the
        top-right side.</li>
      <li>Check if the new icon pack is displayed there and click on it to see the
        full list of icons.</li>
      <li>Go through most of the items to look for issues such as missing icon,
        wrong names (some icons have aliases/terms that can cause issues).</li>
    </ul>
  </li>
  <li>Optionally, assign an icon from the new icon pack to this note. This icon
    will be used in the icon pack filter for a visual distinction.</li>
  <li
 >The icon pack can then be <a href="#root/_help_mHbBMPDPkVV5">exported as ZIP</a> in
    order to be distributed to other users.
    <ul>
      <li>It's important to note that icon packs are considered “unsafe” by default,
        so “Safe mode” must be disabled when importing the ZIP.</li>
      <li>Consider linking new users to the&nbsp;<a class="reference-link" href="#root/_help_gOKqSJgXLcIj">Icon Packs</a>&nbsp;documentation
        in order to understand how to import and use an icon pack.</li>
    </ul>
    </li>
</ul>
<h3>Troubleshooting</h3>
<p>If the icon pack doesn't show up, look through the&nbsp;<a class="reference-link"
  href="#root/_help_bnyigUA2UK7s">Backend (server) logs</a>&nbsp;for clues.</p>
<ul>
  <li>One example is if the font could not be retrieved: <code spellcheck="false">ERROR: Icon pack is missing WOFF/WOFF2/TTF attachment: Boxicons v3 400 (dup) (XRzqDQ67fHEK)</code>.</li>
  <li
 >Make sure the prefix is unique and not already taken by some other icon
    pack. When there are two icon packs with the same prefix, only one is used.
    The server logs will indicate if this situation occurs.</li>
    <li>Make sure the prefix consists only of alphanumeric characters, hyphens
      and underscore.</li>
</ul>